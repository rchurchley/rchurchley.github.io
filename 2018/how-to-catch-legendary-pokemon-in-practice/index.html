<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="manifest" href="/manifest.json"><!-- Primary Meta Tags --><title>How to catch legendary Pokémon (in practice) • Ross Churchley</title><meta name="title" content="How to catch legendary Pokémon (in practice) • Ross Churchley"><meta name="description" content="A commonplace book by Ross Churchley."><meta name="author" content="Ross Churchley"><!-- Canonical URL --><link rel="canonical" href="https://rosschurchley.com/2018/how-to-catch-legendary-pokemon-in-practice/"><link rel="alternate" type="application/rss+xml" title="Ross Churchley" href="/feed/index.xml"><!-- Tracking --><script defer src="https://cloud.umami.is/script.js" data-website-id="1310f8d8-5d9d-47fa-83cd-4c7aad708167" data-domains="rosschurchley.com"></script><link rel="stylesheet" href="/_astro/hoisted.DX5cHcaa.css">
<style>.button.astro-l53vzxwm{background-color:var(--button--background-color);border-radius:var(--card--border-radius);color:var(--button--color);display:inline-block;padding:var(--card--padding);text-decoration:none}.button.astro-l53vzxwm:hover{background-color:var(--button-hover--background-color)}.chart{border:var(--card--border)}.chart figcaption:empty{display:none}.vega-embed{aspect-ratio:4 / 3;width:100%}.vega-embed svg{width:100%;height:100%}.cross-stitch{box-sizing:border-box;display:grid;grid-template-columns:3fr 1fr}.cross-stitch img{box-sizing:border-box;image-rendering:pixelated;padding:2rem;width:100%}.cross-stitch .thread-list{display:flex;flex-direction:column;font-style:normal;line-height:normal;padding:0}.cross-stitch .thread{align-items:center;display:flex;flex-grow:1;justify-content:center;padding:1rem .5rem}.cross-stitch.white{background-color:#fff}.cross-stitch.navy{background-color:var(--color-blue-90)}.selected-clue{background:var(--color-black-3);color:var(--wp--preset--color--white-4);padding:var(--card--padding)}.crossword{background-color:var(--color-black-3);border:1px solid var(--color-black-3)}.crossword svg .clue-cell text[text-anchor=start]{font-size:40%!important;opacity:50%}.clues{padding:var(--card--padding)}.clues .direction:not(:first-child){margin-top:var(--card--margin-block)}.clues .direction .header{margin-bottom:.5rem;margin-top:0}.clue{border-radius:5px;padding:2px 2rem;position:relative;text-indent:calc(-2rem + 5px)}.clues .direction .clue.correct{opacity:50%}.clue.correct:after{animation-duration:.2s;animation-name:animate-pop;animation-timing-function:cubic-bezier(.26,.53,.74,1.48);content:"✔";position:absolute;right:5px;top:2px}@keyframes animate-pop{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}details.astro-vg66d3uy{background-color:var(--aside--background-color);border-radius:var(--card--border-radius);border:var(--card--border);box-shadow:var(--card--box-shadow);margin:var(--card--margin-block) 0;padding:var(--card--padding)}details.astro-vg66d3uy[open] summary.astro-vg66d3uy{border-block-end:var(--card--border);margin-block-end:var(--card--padding-block);padding-block-end:var(--card--padding-block)}.footnote.astro-zueqxggj{padding-inline-start:2rem;position:relative}.footnote-ref.astro-zueqxggj{position:absolute;left:0}.fn-ref.astro-ogpmuyat{background-color:var(--button--background-color);border-radius:3px;color:var(--button--color);display:inline-block;font-size:60%;height:calc(2ex + 4px);line-height:1;margin-inline-end:.5em;margin-inline-start:.25em;min-width:1.5em;padding:2px;position:relative;text-align:center;text-decoration:none;top:-.4em;vertical-align:baseline}.fn-ref.astro-ogpmuyat:hover{background-color:var(--button-hover--background-color)}.footnotes.astro-h4fc3wuz{color:var(--aside--color);font-size:90%}.gallery.astro-7bcnqnrw ul.astro-7bcnqnrw{display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}.gallery.astro-7bcnqnrw ul.astro-7bcnqnrw li.astro-7bcnqnrw{width:50%;flex-grow:1;border:var(--card--border)}.gallery.astro-7bcnqnrw ul.astro-7bcnqnrw li.astro-7bcnqnrw img.astro-7bcnqnrw{max-height:100%;min-width:100%;object-fit:cover;vertical-align:bottom;height:100%}.map.astro-ada5bjbx div.astro-ada5bjbx{width:100%;height:65vh}
</style>
<link rel="stylesheet" href="/_astro/_page_.CvfVLShh.css">
<style>.tag.astro-3ewxdvar{background-color:var(--aside--background-color);border-radius:5px;border:var(--card--border);display:inline-block;padding:2px 5px;text-decoration:none}header.astro-vgldsqod,main.astro-vgldsqod{margin-inline:auto;max-width:40rem;padding:var(--card--padding);width:100%}main.astro-vgldsqod{margin-block-end:2rem}.post-meta.astro-vgldsqod{align-items:baseline;color:var(--aside--color);display:flex;flex-wrap:wrap;font-size:11pt;gap:1rem}
</style><script type="module" src="/_astro/hoisted.BJkbUegV.js"></script></head> <body> <header id="site-header" data-astro-transition-persist="navbar" class="astro-kre5bv2d"> <a class="empty astro-kre5bv2d" href="/"></a> <a class="logo astro-kre5bv2d" href="/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="astro-4rpux2co"> <g fill-rule="evenodd" stroke="#3d0029" stroke-linecap="round" stroke-linejoin="round" stroke-width="8" class="astro-4rpux2co"><path fill="#a90464" d="M256 409.494c-50.323 60.86-141.532 39.874-141.532 39.874s-55.565-80.798-4.194-145.855C31.645 275.18 28.5 181.793 28.5 181.793s50.323-73.453 136.29-50.368C164.79 50.627 256 16 256 16s90.161 34.627 90.161 115.425c85.968-16.79 137.339 50.367 137.339 50.367s-8.387 103.882-81.774 121.72c46.129 60.861-5.242 145.856-5.242 145.856S300.032 472.453 256 409.494Z" class="astro-4rpux2co"></path><path fill="#e50684" d="M256 102.506c-50.323-60.86-141.532-39.874-141.532-39.874s-55.565 80.797-4.194 145.855C31.645 236.82 28.5 330.207 28.5 330.207s50.323 73.453 136.29 50.368C164.79 461.373 256 496 256 496s90.161-34.627 90.161-115.425c85.968 16.79 137.339-50.367 137.339-50.367s-8.387-103.882-81.774-121.72c46.129-60.861-5.242-145.856-5.242-145.856S300.032 39.547 256 102.506Z" class="astro-4rpux2co"></path></g><g fill-rule="evenodd" class="astro-4rpux2co"><path fill="#ff80c4" d="M351.7 256.027c0-53.02-42.98-96-96-96-53.019 0-96 42.98-96 96s42.981 96 96 96c53.02 0 96-42.98 96-96Z" class="astro-4rpux2co"></path><path fill="#3d0029" d="M255.7 160.027c53.02 0 96 42.98 96 96s-42.98 96-96 96c-53.019 0-96-42.98-96-96s42.981-96 96-96Zm88 96c0 48.6-39.398 88-88 88-48.6 0-88-39.4-88-88 0-48.601 39.4-88 88-88 48.602 0 88 39.399 88 88Z" class="astro-4rpux2co"></path></g><path fill="#f353a9" fill-rule="evenodd" d="m257.198 292-34.05-24.971 13.006-40.404h42.088l13.006 40.404Z" class="astro-4rpux2co"></path><path fill="none" stroke="#3d0029" stroke-width="8" d="M347 227H235M256.305 160.74l-34.61 106.52M165.695 226.084l90.61 65.832M313.305 333.26l-34.61-106.52M199.695 333.916l90.61-65.832" class="astro-4rpux2co"></path><g fill-rule="evenodd" class="astro-4rpux2co"><path fill="#ffa5dc" d="M288 160c0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32 17.673 0 32-14.327 32-32Z" class="astro-4rpux2co"></path><path fill="#3d0029" d="M256 128c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm24 32c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24Z" class="astro-4rpux2co"></path></g><g fill-rule="evenodd" class="astro-4rpux2co"><path fill="#ffa5dc" d="M357.19 256.768c16.808-5.461 26.007-23.514 20.545-40.322-5.461-16.808-23.514-26.007-40.322-20.545-16.808 5.46-26.007 23.514-20.545 40.322 5.46 16.808 23.514 26.006 40.322 20.545Z" class="astro-4rpux2co"></path><path fill="#3d0029" d="M377.735 216.446c5.462 16.808-3.737 34.86-20.545 40.322-16.808 5.461-34.861-3.737-40.322-20.545-5.462-16.808 3.737-34.861 20.545-40.322 16.808-5.462 34.861 3.737 40.322 20.545Zm-23.017 32.714c-12.606 4.096-26.146-2.803-30.242-15.41-4.096-12.605 2.803-26.145 15.409-30.241 12.606-4.096 26.146 2.803 30.242 15.409 4.096 12.606-2.803 26.146-15.41 30.242Z" class="astro-4rpux2co"></path></g><g fill-rule="evenodd" class="astro-4rpux2co"><path fill="#ffa5dc" d="M286.539 352.475c10.388 14.298 30.4 17.467 44.698 7.08 14.297-10.389 17.467-30.4 7.079-44.698-10.388-14.298-30.4-17.468-44.698-7.08-14.298 10.388-17.467 30.4-7.08 44.698Z" class="astro-4rpux2co"></path><path fill="#3d0029" d="M331.237 359.554c-14.298 10.388-34.31 7.219-44.698-7.08-10.388-14.297-7.219-34.309 7.08-44.697 14.297-10.388 34.309-7.218 44.697 7.08 10.388 14.297 7.218 34.31-7.08 44.697Zm-38.226-11.782c-7.791-10.723-5.414-25.732 5.31-33.523 10.723-7.79 25.732-5.414 33.523 5.31 7.79 10.723 5.414 25.732-5.31 33.523-10.723 7.791-25.732 5.414-33.523-5.31Z" class="astro-4rpux2co"></path></g><g fill-rule="evenodd" class="astro-4rpux2co"><path fill="#ffa5dc" d="M231.573 333.666c0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32 0 17.673 14.327 32 32 32 17.673 0 32-14.327 32-32Z" class="astro-4rpux2co"></path><path fill="#3d0029" d="M199.573 301.666c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.673 0-32-14.327-32-32 0-17.673 14.327-32 32-32Zm24 32c0 13.254-10.746 24-24 24-13.255 0-24-10.746-24-24 0-13.255 10.745-24 24-24 13.254 0 24 10.745 24 24Z" class="astro-4rpux2co"></path></g><g fill-rule="evenodd" class="astro-4rpux2co"><path fill="#ffa5dc" d="M196.699 226.334c0-17.673-14.327-32-32-32-17.674 0-32 14.327-32 32 0 17.673 14.326 32 32 32 17.673 0 32-14.327 32-32Z" class="astro-4rpux2co"></path><path fill="#3d0029" d="M164.699 194.334c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32-17.674 0-32-14.327-32-32 0-17.673 14.326-32 32-32Zm24 32c0 13.255-10.746 24-24 24-13.255 0-24-10.745-24-24 0-13.254 10.745-24 24-24 13.254 0 24 10.746 24 24Z" class="astro-4rpux2co"></path></g></svg> </a> <site-search id="search" class="ms-auto"> <button data-open-modal disabled> <svg aria-label="search" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"> <path stroke="none" d="M0 0h24v24H0z"></path> <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path> </svg> <!-- <span class='md:hidden text-2xl'> Search</span> --> </button> <dialog aria-label="search"> <div class="dialog-frame"> <button data-close-modal>Close</button> <div> <div id="pagefind__search"></div> </div> </div> </dialog> </site-search>   </header>  <img src="/_astro/img.sy32i5k7_1SkhJ2.webp" srcset="/_astro/img.sy32i5k7_nvPzp.webp 640w, /_astro/img.sy32i5k7_Z2tHBhQ.webp 1024w, /_astro/img.sy32i5k7_1SkhJ2.webp 1600w, /_astro/img.sy32i5k7_1SkhJ2.webp 1600w" loading="eager" alt="The roaming Pokémon Raikou, depicted in the style of the cover Bonato and Nowakowski's Cops and Robbers textbook" class="astro-vgldsqod" width="1600" height="900" decoding="async"><header data-pagefind-body class="astro-vgldsqod"> <h1 class="astro-vgldsqod">How to catch legendary Pokémon (in practice)</h1> <nav class="post-meta astro-vgldsqod"> <time datetime="2018-12-16T00:00:00.000Z"> 2018-12-16 </time> <a class="tag astro-3ewxdvar" href="/tag/math/1/" aria-label="Math"> Math </a> <a class="tag astro-3ewxdvar" href="/tag/pokémon/1/" aria-label="Pokémon"> Pokémon </a>  </nav> </header> <main data-pagefind-body class="astro-vgldsqod">  <p><em>Pokémon Gold</em> and <em>Silver</em>’s roaming legendary beasts move randomly from route to route instead of sticking to a fixed habitat. By analyzing their behaviour using the math of random walks on graphs, I can finally answer a question that’s bugged me since childhood: what’s the best strategy to find a roaming Pokémon as quickly as possible?</p>
<hr/>
<p>Catching a roaming Pokémon is a <a href="http://echizen.local/2012/how-to-catch-legendary-pokemon/">graph pursuit game</a>, but in practice the optimal strategy doesn’t involve a chase at all. Raikou and the other roaming Pokémon move every time the player crosses the boundary from one location to another, regardless of how long that takes. So if we repeatedly cross the boundary by taking one step forward and one step back, Raikou will effortlessly speed across the map.</p>
<p>The easiest strategy, then, is to choose a centrally-located location and hop back and forth until Raikou comes to us. The question is what location gives the best results.</p>
<h2 id="vertices-of-maximum-degree">Vertices of maximum degree</h2>
<p>When left to its own devices, a random walk in a graph <em>G</em> returns to a vertex <em>v</em> every</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mn>2</mn><mi mathvariant="normal">∣</mi><mi>E</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><mrow><mi>deg</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{2|E(G)|}{\deg(v)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mop">de<span style="margin-right:0.01389em">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="mclose">)</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2∣</span><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<p>steps. This suggests that the best place to find Raikou is a vertex of maximum degree on the graph corresponding to the Johto map.</p>
<astro-figure> <figure> <a href="/_astro/how-to-catch-legendary-pokemon-maps.DUlcohsp_Z2vqPe.svg" data-pswp-width="350" data-pswp-height="325"> <img src="/_astro/how-to-catch-legendary-pokemon-maps.DUlcohsp_Z2vqPe.svg" srcset="/_astro/how-to-catch-legendary-pokemon-maps.DUlcohsp_Z2vqPe.svg 640w, /_astro/how-to-catch-legendary-pokemon-maps.DUlcohsp_Z2vqPe.svg 1024w, /_astro/how-to-catch-legendary-pokemon-maps.DUlcohsp_Z2vqPe.svg 1600w, /_astro/how-to-catch-legendary-pokemon-maps.DUlcohsp_Z2vqPe.svg 350w" alt="A map of Johto with the routes coloured in different shades of pink" width="350" height="325" loading="lazy" decoding="async"> </a> <figcaption><p>The routes of Johto coloured according to their corresponding vertex degrees.</p></figcaption> </figure> </astro-figure> 
<p>This puts <a href="https://bulbapedia.bulbagarden.net/wiki/Johto_Route_31">Johto Route 31</a> as the top candidate, since it’s the only route adjacent to five other routes (Routes 30, 32, 36, 45, and 46) on the roaming Pokémon’s trajectory.</p>
<h2 id="vertices-with-minimum-average-effective-resistance">Vertices with minimum average effective resistance</h2>
<p>Of course, we don’t intend to leave Raikou to its own devices—we’re going to try to catch it whenever it’s on our route! If it gets away, it will flee to a random location that can be <em>anywhere on the map</em>, regardless of whether it is adjacent or not. This wrinkle means we’re not exactly trying to find the vertex with the fastest return time; we’re really trying to minimize</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mn>1</mn><mrow><mi mathvariant="normal">∣</mi><mi>V</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mfrac><munder><mo>∑</mo><mrow><mi>u</mi><mo>∈</mo><mi>V</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow></munder><mi>T</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo separator="true">,</mo></mrow><annotation encoding="application/x-tex">\frac{1}{|V(G)|}\sum_{u\in V(G)} T(u, v),
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.8374em;vertical-align:-1.516em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mclose">)</span><span class="mord">∣</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.809em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.22222em">V</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">G</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.516em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span></span>
<p>where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T(u, v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="mclose">)</span></span></span></span> is the expected time for a random walk starting at <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">u</span></span></span></span> to first reach our vertex <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span></span></span>.</p>
<p>How do we compute this value? According to <a href="https://doi.org/10.1007/bf01046996">Tetali</a>, we replace all of the edges with 1-ohm resistors and measure the effective resistances <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>x</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{xy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> between each pair of nodes <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">x, y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span></span></span></span> in the corresponding electrical network. Then</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><munder><mo>∑</mo><mrow><mi>w</mi><mo>∈</mo><mi>V</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo></mrow></munder><mi>deg</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>R</mi><mrow><mi>u</mi><mi>v</mi></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow><mi>v</mi><mi>w</mi></mrow></msub><mo>−</mo><msub><mi>R</mi><mrow><mi>u</mi><mi>w</mi></mrow></msub><mo stretchy="false">)</mo><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">T(u, v) = \frac{1}{2}\sum_{w\in V(G)} \deg(w) (R_{uv} + R_{vw} - R_{uw}).
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.03588em">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.8374em;vertical-align:-1.516em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em"><span style="top:-1.809em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span><span class="mrel mtight">∈</span><span class="mord mathnormal mtight" style="margin-right:0.22222em">V</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">G</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.516em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop">de<span style="margin-right:0.01389em">g</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">uv</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">.</span></span></span></span></span>
<p>It seems very appropriate to use the math of electrical networks to catch the electric-type Raikou! Unfortunately, there’s no references to effective resistance or Tetali’s formula in its Pokédex entry.</p>
<p>Effective resistance can be computed by hand using Kirchoff’s and Ohm’s Laws, but it’s much easier to plug it into <a href="https://www.sagemath.org/">SageMath</a>, which uses a <a href="https://mathworld.wolfram.com/ResistanceDistance.html">nifty formula</a> based on the Laplacian matrix of the graph.<a class="fn-ref astro-ogpmuyat" href="#fn-1">1</a> </p>
<style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1cC1Xk" prefix="r0" component-url="/_astro/ClientSideChart.BfD8ArpS.js" component-export="default" renderer-url="/_astro/client.CMVrtX4H.js" props="{&quot;vegaData&quot;:[0,&quot;{\n\&quot;table\&quot;: [\n{\n\&quot;route\&quot;: \&quot;Route 39\&quot;,\n\&quot;time\&quot;: 144.4\n},\n{\n\&quot;route\&quot;: \&quot;Route 34\&quot;,\n\&quot;time\&quot;: 99.3\n},\n{\n\&quot;route\&quot;: \&quot;Route 33\&quot;,\n\&quot;time\&quot;: 86.5\n},\n{\n\&quot;route\&quot;: \&quot;Route 29\&quot;,\n\&quot;time\&quot;: 86.3\n},\n{\n\&quot;route\&quot;: \&quot;Route 35\&quot;,\n\&quot;time\&quot;: 79.4\n},\n{\n\&quot;route\&quot;: \&quot;Route 30\&quot;,\n\&quot;time\&quot;: 77.6\n},\n{\n\&quot;route\&quot;: \&quot;Route 43\&quot;,\n\&quot;time\&quot;: 65.5\n},\n{\n\&quot;route\&quot;: \&quot;Route 38\&quot;,\n\&quot;time\&quot;: 62.8\n},\n{\n\&quot;route\&quot;: \&quot;Route 46\&quot;,\n\&quot;time\&quot;: 49.5\n},\n{\n\&quot;route\&quot;: \&quot;Route 44\&quot;,\n\&quot;time\&quot;: 45.8\n},\n{\n\&quot;route\&quot;: \&quot;Route 32\&quot;,\n\&quot;time\&quot;: 43.3\n},\n{\n\&quot;route\&quot;: \&quot;Route 37\&quot;,\n\&quot;time\&quot;: 40.7\n},\n{\n\&quot;route\&quot;: \&quot;Route 45\&quot;,\n\&quot;time\&quot;: 39\n},\n{\n\&quot;route\&quot;: \&quot;Route 42\&quot;,\n\&quot;time\&quot;: 37.3\n},\n{\n\&quot;route\&quot;: \&quot;Route 36\&quot;,\n\&quot;time\&quot;: 30.8\n},\n{\n\&quot;route\&quot;: \&quot;Route 31\&quot;,\n\&quot;time\&quot;: 26.5\n}\n]\n}&quot;],&quot;vegaSpec&quot;:[0,&quot;{\n\&quot;mark\&quot;: \&quot;bar\&quot;,\n\&quot;encoding\&quot;: {\n\&quot;x\&quot;: {\n\&quot;field\&quot;: \&quot;time\&quot;, \&quot;type\&quot;: \&quot;quantitative\&quot;,\n\&quot;title\&quot;: \&quot;Expected capture time (steps)\&quot;\n},\n\&quot;y\&quot;: {\n\&quot;field\&quot;: \&quot;route\&quot;, \&quot;sort\&quot;: \&quot;x\&quot;, \&quot;title\&quot;: \&quot;\&quot;\n}\n},\n\&quot;data\&quot;: { \&quot;name\&quot;: \&quot;table\&quot; }\n}&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ClientSideChart&quot;,&quot;value&quot;:true}" await-children=""><figure class="chart"><div></div><figcaption><astro-slot> <noscript><p></p></noscript> <p>Expected capture time when moving between a given route and an adjacent town</p> </astro-slot></figcaption></figure><!--astro:end--></astro-island>
<p>Route 31 comes out on top again by this measure: if Raikou starts from a random location, it will come to this route sooner on average than any other single location.</p>
<h2 id="vertex-pairs-with-minimum-average-effective-resistance">Vertex pairs with minimum average effective resistance</h2>
<p>But this still isn’t the final answer. The above calculations assume we’re hopping between a route (where we can catch Raikou) and a town (where we can’t).<a href="#52600543-9d44-47f5-b2a9-01e2163d9a04">1</a> What if we go to a boundary where either side gives us a chance for an encounter?</p>
<p>There are only four pairs of routes in Johto where this is possible. The expected capture time when straddling one of these special boundaries can be computed using the same kinds of calculations. All four route pairs yield an expected capture time faster than relying on any individual route — enough to dethrone Route 31!</p>
<astro-island uid="pyg9n" prefix="r1" component-url="/_astro/ClientSideChart.BfD8ArpS.js" component-export="default" renderer-url="/_astro/client.CMVrtX4H.js" props="{&quot;vegaData&quot;:[0,&quot;{\n\&quot;table\&quot;: [\n{\n\&quot;routes\&quot;: \&quot;Routes 35-36\&quot;,\n\&quot;direction\&quot;: \&quot;reverse\&quot;,\n\&quot;time\&quot;: 27.3\n},\n{\n\&quot;routes\&quot;: \&quot;Routes 45-46\&quot;,\n\&quot;direction\&quot;: \&quot;reverse\&quot;,\n\&quot;time\&quot;: 25.7\n},\n{\n\&quot;routes\&quot;: \&quot;Routes 30-31\&quot;,\n\&quot;direction\&quot;: \&quot;reverse\&quot;,\n\&quot;time\&quot;: 24.4\n},\n{\n\&quot;routes\&quot;: \&quot;Routes 37-36\&quot;,\n\&quot;direction\&quot;: \&quot;reverse\&quot;,\n\&quot;time\&quot;: 17\n},\n{\n\&quot;routes\&quot;: \&quot;Routes 35-36\&quot;,\n\&quot;direction\&quot;: \&quot;forward\&quot;,\n\&quot;time\&quot;: 23.9\n},\n{\n\&quot;routes\&quot;: \&quot;Routes 45-46\&quot;,\n\&quot;direction\&quot;: \&quot;forward\&quot;,\n\&quot;time\&quot;: 25.3\n},\n{\n\&quot;routes\&quot;: \&quot;Routes 30-31\&quot;,\n\&quot;direction\&quot;: \&quot;forward\&quot;,\n\&quot;time\&quot;: 19.7\n},\n{\n\&quot;routes\&quot;: \&quot;Routes 37-36\&quot;,\n\&quot;direction\&quot;: \&quot;forward\&quot;,\n\&quot;time\&quot;: 14.2\n}\n]}&quot;],&quot;vegaSpec&quot;:[0,&quot;{\n\&quot;mark\&quot;: \&quot;bar\&quot;,\n\&quot;encoding\&quot;: {\n\&quot;x\&quot;: {\n\&quot;field\&quot;: \&quot;time\&quot;,\n\&quot;type\&quot;: \&quot;quantitative\&quot;,\n\&quot;aggregate\&quot;: \&quot;sum\&quot;,\n\&quot;stack\&quot;: null,\n\&quot;title\&quot;: \&quot;Expected capture time (steps)\&quot;\n},\n\&quot;y\&quot;: {\n\&quot;field\&quot;: \&quot;routes\&quot;, \&quot;sort\&quot;: \&quot;x\&quot;, \&quot;title\&quot;: \&quot;\&quot;\n},\n\&quot;color\&quot;: {\n\&quot;field\&quot;: \&quot;direction\&quot;,\n\&quot;scale\&quot;: {\&quot;range\&quot;: [\&quot;#e50684\&quot;, \&quot;#ffa5dc\&quot;]},\n\&quot;legend\&quot;: null\n}\n},\n\&quot;data\&quot;: { \&quot;name\&quot;: \&quot;table\&quot; }\n}&quot;]}" ssr="" client="load" opts="{&quot;name&quot;:&quot;ClientSideChart&quot;,&quot;value&quot;:true}" await-children=""><figure class="chart"><div></div><figcaption><astro-slot> <noscript><p></p></noscript> <p>Expected capture time when moving between adjacent locations. Each pair has
two expected capture times, shown in different shades, depending on which
route is considered the starting point.</p> </astro-slot></figcaption></figure><!--astro:end--></astro-island>
<p>Source code</p>
<details class="astro-vg66d3uy"> <summary class="astro-vg66d3uy">Source code</summary> <div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.ctoh7.css"/><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="python" class="wrap" style="--ecMaxLine:211ch"><code><div class="ec-line"><div class="code"><span style="--0:#F0EFFE">G </span><span style="--0:#FF80C4">=</span><span style="--0:#F0EFFE"> </span><span style="--0:#65B8FF">Graph</span><span style="--0:#9A99B2">({</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">29</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">30</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">46</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">30</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">31</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">31</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">32</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">45</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">46</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">32</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">33</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">33</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">34</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">34</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">35</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">35</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">37</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">37</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">38</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">42</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">38</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">39</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">42</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">42</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">43</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">44</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">43</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">44</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">44</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">45</span><span style="--0:#9A99B2">],</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">45</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[</span><span style="--0:#FDCC59">46</span><span style="--0:#9A99B2">]</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">})</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#F0EFFE">R_matrix </span><span style="--0:#FF80C4">=</span><span style="--0:#F0EFFE"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">effective_resistance_matrix</span><span style="--0:#9A99B2">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">def</span><span style="--0:#F0EFFE"> </span><span style="--0:#65B8FF">R</span><span style="--0:#9A99B2">(</span><span style="--0:#FCFCFF">u</span><span style="--0:#9A99B2">,</span><span style="--0:#F0EFFE"> </span><span style="--0:#FCFCFF">v</span><span style="--0:#9A99B2">):</span><span style="--0:#F0EFFE"> </span><span style="--0:#FF80C4">return</span><span style="--0:#F0EFFE"> R_matrix</span><span style="--0:#9A99B2">[</span><span style="--0:#F0EFFE">G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">().</span><span style="--0:#65B8FF">index</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">)][</span><span style="--0:#F0EFFE">G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">().</span><span style="--0:#65B8FF">index</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">v</span><span style="--0:#9A99B2">)]</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">def</span><span style="--0:#F0EFFE"> hitting</span><span style="--0:#FF80C4">*</span><span style="--0:#65B8FF">time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> v</span><span style="--0:#9A99B2">):</span><span style="--0:#F0EFFE"> </span><span style="--0:#FF80C4">return</span><span style="--0:#F0EFFE"> </span><span style="--0:#FDCC59">1</span><span style="--0:#FF80C4">/</span><span style="--0:#FDCC59">2</span><span style="--0:#F0EFFE"> </span><span style="--0:#FF80C4">*</span><span style="--0:#F0EFFE"> </span><span style="--0:#65B8FF">sum</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">degree</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">w</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">\</span><span style="--0:#FF80C4;--0fw:bold">_ (R(u,v) + R(v,w) - R(u,w)) for w in G.vertices())</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">def</span><span style="--0:#65B8FF"> avg_hitting_time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">v</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> mean</span><span style="--0:#9A99B2">([</span><span style="--0:#65B8FF">hitting_time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> v</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">for</span><span style="--0:#65B8FF"> u </span><span style="--0:#FF80C4">in</span><span style="--0:#65B8FF"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">()])</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9A99B2">{</span><span style="--0:#65B8FF"> v</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> avg_hitting_time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">v</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">for</span><span style="--0:#65B8FF"> v </span><span style="--0:#FF80C4">in</span><span style="--0:#65B8FF"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">()</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9A99B2;--0fs:italic"># account for parity</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FCFCFF">H</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">=</span><span style="--0:#65B8FF"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">tensor_product</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">graphs</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">CompleteGraph</span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">2</span><span style="--0:#9A99B2">))</span><span style="--0:#65B8FF"> </span><span style="--0:#FCFCFF">R_matrix</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">=</span><span style="--0:#65B8FF"> H</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">effective_resistance_matrix</span><span style="--0:#9A99B2">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">def</span><span style="--0:#65B8FF"> R</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> v</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> R_matrix</span><span style="--0:#9A99B2">[</span><span style="--0:#65B8FF">H</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">().</span><span style="--0:#65B8FF">index</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">)][</span><span style="--0:#65B8FF">H</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">().</span><span style="--0:#65B8FF">index</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">v</span><span style="--0:#9A99B2">)]</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">def</span><span style="--0:#65B8FF"> hitting</span><span style="--0:#FF80C4">*</span><span style="--0:#65B8FF">time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> v</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">1</span><span style="--0:#FF80C4">/</span><span style="--0:#FDCC59">2</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">*</span><span style="--0:#65B8FF"> sum</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">H</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">degree</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">w</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">\</span><span style="--0:#FF80C4;--0fw:bold">_ (R(u,v) + R(v,w) - R(u,w)) for w in H.vertices())</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">def</span><span style="--0:#65B8FF"> avg_hitting_time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">v</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> mean</span><span style="--0:#9A99B2">([</span><span style="--0:#65B8FF">hitting_time</span><span style="--0:#9A99B2">((</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">0</span><span style="--0:#9A99B2">),(</span><span style="--0:#65B8FF">v</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">0</span><span style="--0:#9A99B2">))</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">for</span><span style="--0:#65B8FF"> u </span><span style="--0:#FF80C4">in</span><span style="--0:#65B8FF"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">()])</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9A99B2">{</span><span style="--0:#65B8FF"> v</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> avg_hitting_time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">v</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">for</span><span style="--0:#65B8FF"> v </span><span style="--0:#FF80C4">in</span><span style="--0:#65B8FF"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">()</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9A99B2;--0fs:italic"># Final</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">@</span><span style="--0:#65B8FF">CachedFunction </span><span style="--0:#FF80C4">def</span><span style="--0:#65B8FF"> H</span><span style="--0:#9A99B2">(</span><span style="--0:#FCFCFF">routes</span><span style="--0:#FF80C4">=</span><span style="--0:#FDCC59">None</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">if</span><span style="--0:#65B8FF"> routes </span><span style="--0:#FF80C4">is</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">None</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">tensor_product</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">graphs</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">CompleteGraph</span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">2</span><span style="--0:#9A99B2">))</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">else</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> x</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FCFCFF">y</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">=</span><span style="--0:#65B8FF"> routes </span><span style="--0:#FCFCFF">graph</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">=</span><span style="--0:#65B8FF"> H</span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">None</span><span style="--0:#9A99B2">).</span><span style="--0:#65B8FF">copy</span><span style="--0:#9A99B2">()</span><span style="--0:#65B8FF"> graph</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">merge_vertices</span><span style="--0:#9A99B2">([(</span><span style="--0:#65B8FF">x</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">0</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">y</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">1</span><span style="--0:#9A99B2">)])</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> graph</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">@</span><span style="--0:#65B8FF">CachedFunction </span><span style="--0:#FF80C4">def</span><span style="--0:#65B8FF"> R_matrix</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">routes</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> H</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">routes</span><span style="--0:#9A99B2">).</span><span style="--0:#65B8FF">effective_resistance_matrix</span><span style="--0:#9A99B2">()</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF80C4">def</span><span style="--0:#65B8FF"> hitting</span><span style="--0:#FF80C4">*</span><span style="--0:#65B8FF">time</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">routes</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> u</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> v</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> </span><span style="--0:#FCFCFF">H0</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">=</span><span style="--0:#65B8FF"> H</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">routes</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#FCFCFF">R</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">=</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">lambda</span><span style="--0:#65B8FF"> </span><span style="--0:#FCFCFF">x</span><span style="--0:#9A99B2">,</span><span style="--0:#FCFCFF">y</span><span style="--0:#9A99B2">:</span><span style="--0:#65B8FF"> R_matrix</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">routes</span><span style="--0:#9A99B2">)[</span><span style="--0:#65B8FF">H0</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">().</span><span style="--0:#65B8FF">index</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">x</span><span style="--0:#9A99B2">)][</span><span style="--0:#65B8FF">H0</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">().</span><span style="--0:#65B8FF">index</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">y</span><span style="--0:#9A99B2">)]</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">return</span><span style="--0:#65B8FF"> </span><span style="--0:#FDCC59">1</span><span style="--0:#FF80C4">/</span><span style="--0:#FDCC59">2</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">*</span><span style="--0:#65B8FF"> sum</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">H0</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">degree</span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">w</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">\</span><span style="--0:#FF80C4;--0fw:bold">_ (R(u,v) + R(v,w) - R(u,w)) for w in H0.vertices())</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#9A99B2">{</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">x</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> y</span><span style="--0:#9A99B2">):</span><span style="--0:#65B8FF"> mean</span><span style="--0:#9A99B2">([</span><span style="--0:#65B8FF"> hitting_time</span><span style="--0:#9A99B2">((</span><span style="--0:#65B8FF">x</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF">y</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">u</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">0</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">x</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">0</span><span style="--0:#9A99B2">))</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">for</span><span style="--0:#65B8FF"> u </span><span style="--0:#FF80C4">in</span><span style="--0:#65B8FF"> G</span><span style="--0:#9A99B2">.</span><span style="--0:#65B8FF">vertices</span><span style="--0:#9A99B2">()</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">])</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">for</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#65B8FF">x</span><span style="--0:#9A99B2">,</span><span style="--0:#65B8FF"> y</span><span style="--0:#9A99B2">)</span><span style="--0:#65B8FF"> </span><span style="--0:#FF80C4">in</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">[(</span><span style="--0:#FDCC59">30</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">31</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">31</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">30</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">35</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">35</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">37</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">37</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">36</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">45</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">46</span><span style="--0:#9A99B2">),</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">(</span><span style="--0:#FDCC59">46</span><span style="--0:#9A99B2">,</span><span style="--0:#FDCC59">45</span><span style="--0:#9A99B2">)]</span><span style="--0:#65B8FF"> </span><span style="--0:#9A99B2">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="G = Graph({ 29: [30, 46], 30: [31], 31: [32, 36, 45, 46], 32: [33, 36], 33: [34], 34: [35], 35: [36], 36: [37], 37: [38, 42], 38: [39, 42], 42: [43, 44], 43: [44], 44: [45], 45: [46] })R_matrix = G.effective_resistance_matrix()def R(u, v): return R_matrix[G.vertices().index(u)][G.vertices().index(v)]def hitting*time(u, v): return 1/2 * sum(G.degree(w) \_ (R(u,v) + R(v,w) - R(u,w)) for w in G.vertices())def avg_hitting_time(v): return mean([hitting_time(u, v) for u in G.vertices()]){ v: avg_hitting_time(v) for v in G.vertices() }# account for parityH = G.tensor_product(graphs.CompleteGraph(2)) R_matrix = H.effective_resistance_matrix()def R(u, v): return R_matrix[H.vertices().index(u)][H.vertices().index(v)]def hitting*time(u, v): return 1/2 * sum(H.degree(w) \_ (R(u,v) + R(v,w) - R(u,w)) for w in H.vertices())def avg_hitting_time(v): return mean([hitting_time((u,0),(v,0)) for u in G.vertices()]){ v: avg_hitting_time(v) for v in G.vertices() }# Final@CachedFunction def H(routes=None): if routes is None: return G.tensor_product(graphs.CompleteGraph(2)) else: x, y = routes graph = H(None).copy() graph.merge_vertices([(x, 0), (y, 1)]) return graph@CachedFunction def R_matrix(routes): return H(routes).effective_resistance_matrix()def hitting*time(routes, u, v): H0 = H(routes) R = lambda x,y: R_matrix(routes)[H0.vertices().index(x)][H0.vertices().index(y)] return 1/2 * sum(H0.degree(w) \_ (R(u,v) + R(v,w) - R(u,w)) for w in H0.vertices()){ (x, y): mean([ hitting_time((x,y), (u,0), (x,0)) for u in G.vertices() ]) for (x, y) in [(30,31), (31,30), (35,36), (36,35), (36,37), (37,36), (45,46), (46,45)] }"><div></div></button></div></figure></div> </details> 
<p>Although Raikou will on average arrive at Route 31 faster than any other route, the best place to catch the roaming legendary Pokémon is the boundary between <a href="https://bulbapedia.bulbagarden.net/wiki/Johto_Route_36">Johto Routes 36</a> and <a href="https://bulbapedia.bulbagarden.net/wiki/Johto_Route_37">37</a>. Hop back and forth between those two routes, and before you know it, you’ll be one step closer to completing your Pokédex!</p>
<section class="footnotes astro-h4fc3wuz"> <h2 class="astro-h4fc3wuz">Footnotes</h2> <aside class="footnote astro-zueqxggj" id="fn-1"> <span class="footnote-ref astro-zueqxggj">1</span> <p>Specifically, the calculations were done on the <a href="https://en.wikipedia.org/wiki/Tensor_product_of_graphs">tensor
product</a> of <em>K2</em> and
the graph representing Raikou’s possible moves between the Johto routes.</p> </aside>  </section>   </main>  <footer id="site-footer" class="astro-qi2td3yr">
&copy; 2007–2024 Ross Churchley </footer>  </body></html> 